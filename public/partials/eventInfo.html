<!--
 File name: eventInfo.html
 Authors: Caris Wei, Custin Jai
 Description: TODO
-->

<div class="content" ng-controller="GuestSidebarController">

  <!-- the invited guests are displayed to the right -->
  <div class="sidebar2" ng-init="loadGuests(eventData.$id)">
    <ul>
      <li class="userSideBarTitle">Going</li>
      <!--<should be listing all invited users> -->
      <li ng-repeat ="user in going">
          <img id="prof" src="{{user.picture}}">&nbsp;&nbsp; {{user.name}} </li>
      </br>
      <li class="userSideBarTitle">Maybe</li>
      <!--<should be listing all invited users> -->
      <li ng-repeat ="user in maybe">
          <img id="prof" src="{{user.picture}}">&nbsp;&nbsp; {{user.name}} </li>
        </br>
      <li class="userSideBarTitle">Can't Go</li>
      <!--<should be listing all invited users> -->
      <li ng-repeat ="user in cant">
          <img id="prof" src="{{user.picture}}">&nbsp;&nbsp; {{user.name}} </li>
      </br>
      <li class="userSideBarTitle">Invited</li>
      <!--<should be listing all invited users> -->
      <li ng-repeat ="user in invited">
          <img id="prof" src="{{user.picture}}">&nbsp;&nbsp; {{user.name}} </li>
    </ul>
  </div>

  <!-- the event info is displayed to the left -->
  <div id="eventInfo" ng-init="checkAdmin(user.uid, eventData.$id)">
    <h1>{{eventData.eventName}}</h1>
    <h2><pblue>When: </pblue> {{timeString}} <pblue> on </pblue>
      {{eventData.eventDate.toDateString()}}
      <br/>
      <pblue>Where: </pblue> {{eventData.eventLocation}}
      <br/><br/>
      <pblue>Description:</pblue>
      <br/>
      {{eventData.eventDescription}}
    </h2>
    

    <br/>
    
    <hr>
    <div ng-hide="admin">
      <h3 ng-hide="admin">Your Response</h3>
      <button ng-hide="admin" class="large" ng-click="guestGoing(user.uid,
        eventData.$id)">
        Going
      </button>
      &nbsp;
      <button ng-hide="admin" class="large" ng-click="guestMaybe(user.uid,
        eventData.$id)">
        Maybe
      </button>
      &nbsp;
      <button ng-hide="admin" class="large" ng-click="guestNotGoing(user.uid,
        eventData.$id)">
        Can't Go
      </button>
      &nbsp;

      <a href="/{{eventData.$id}}/addPeopleToEvent">
        <button class="large">
          Invite People
        </button>
      </a>
    </div>
    
    <div ng-show="admin">
      <h3 ng-show="admin">Host Actions</h3>
      <a href="/{{eventData.$id}}/addPeopleToEvent">
        <button class="large">
          Invite People
        </button>
      </a>
      &nbsp;
      <a ng-show="admin" href="/{{eventData.$id}}/edit">
        <button class="large" >
          Edit Event
        </button>
          &nbsp;
      </a>
      
      <a href="/home">
        <button ng-click="deleteEvent(eventData.$id)" class="large">
          Delete Event
        </button>
      </a>
    </div>


    <potluck></potluck>
    
    <rides></rides>
  </div>

  <!-- the comments are displayed in the center -->
  <comments></comments>

</div>
